```c++
#include <cstdio>
#include <iostream>
#include <string>
using namespace std;

void reverseStr(string &str, int beg, int end){// 原地反转字符串
    while (beg < end){
        swap(str[beg],str[end]);
        beg++, end--;
    }
}
void func(string &str){
    reverseStr(str, 0, str.size()-1);// 先全部反转
    int beg = 0;
    for (int end = 0; end < str.size(); ++end) {
        if (str[end] != ' ') continue;
        else{// 如果读取到空格
            reverseStr(str,beg,end-1);// 反转前面的单词
            while (str[end] == ' '){// 然后找到下一个单词的起始下标
                end++;
            }
            beg = end;// 重置起始下标
        }
    }
    reverseStr(str,beg,str.size()-1);// 反转最后一个单词
}

int main() {
    string str;
    getline(cin,str,'\n');

    // 去掉前面的多余空格
    int beg = 0;
    while (str[beg] == ' '){
        beg++;
    }
    str = str.substr(beg);

    func(str);
    printf("%s\n", str.c_str());

    return 0;
}
```
