```c#
public int Search(int[] nums, int target)
{
	int left = 0;
	int right = nums.Length - 1;
            
	while (left <= right)
	{
		int mid = left + (right-left)/2;
		if (nums[mid] < target) 
 		{ left = mid + 1; }
		else if (nums[mid] > target)
 		{ right = mid - 1; }
         else if (nums[mid] == target)
 		{ return mid; }
	}
    return -1;
}

public int SearchLeft(int[] nums, int target)
{
	int left = 0;
	int right = nums.Length - 1;
            
	while (left <= right)
	{
		int mid = left + (right-left)/2;
		if (nums[mid] < target) 
 		{ left = mid + 1; }
		else if (nums[mid] >= target) // 大于等于目标值都是收缩右边界
 		{ right = mid - 1; }
	}
			
 	// 如果左下标没有上溢且值为目标值
    if (left < nums.Length && nums[left] == target) 
    { return left; }
    //左下标上溢（目标值超出数组最大值） or 目标值不存在但没有超出数组最大值
    else 
    { return -1; }
}
        
public int SearchRight(int[] nums, int target)
{
	int left = 0;
	int right = nums.Length - 1;
            
	while (left <= right)
	{
		int mid = left + (right-left)/2;
		if (nums[mid] <= target) 
         { left = mid + 1; }// 小于等于目标值都是收缩左边界
         else if (nums[mid] > target) 
         { right = mid - 1; }
 	}
            
	// 如果右下标没有下溢且值为目标值
    if (right >= 0 && nums[right] == target) 
    { return right; }
    //右下标下溢（目标值小于数组最小值） or 目标值不存在但没有小于数组最小值
    else 
    { return -1; }
}
        
public int[] SearchRange(int[] nums, int target)
{
	int[] res = new int[2];
	res[0] = SearchLeft(nums, target);
	res[1] = SearchRight(nums, target);
	return res;
}
```

