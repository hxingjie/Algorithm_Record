```c#
List<List<int>> res = new List<int>();

/* 主函数，输入一组不重复的数字，返回它们的全排列 */
List<List<int>> permute(int[] nums) {
    // 记录「路径」
    List<int> track = new List<int>();
    backtrack(nums, track);
    return res;
}

// 路径：记录在 track 中
// 选择列表：nums 中不存在于 track 的那些元素
// 结束条件：nums 中的元素全都在 track 中出现
void backtrack(int[] nums, List<int> track) {
    // 触发结束条件
    if (结束条件) {
        // 更新 res
        return;
    }

    for (int i = 0; i < nums.length; i++) {
        // 排除不合法的选择
        if (不符合条件)
            continue;
        
        track.Add(nums[i]);// 做选择      
        backtrack(nums, track); // 进入下一层决策树       
        track.RemoveAt(track.Count-1);// 取消选择
    }
}
```

